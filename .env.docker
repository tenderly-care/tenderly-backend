# Docker Environment Configuration for Tenderly Backend
# Copy this file to .env and modify the values for your deployment

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=production
PORT=3000
API_PREFIX=api/v1
APP_NAME=Tenderly Backend
APP_VERSION=1.0.0

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# MongoDB
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=SecureMongoPassword123!
MONGO_DATABASE=tenderly

# Redis
REDIS_PASSWORD=SecureRedisPassword123!
REDIS_DB=0
REDIS_KEY_PREFIX=tenderly:
REDIS_TTL=3600

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# JWT Configuration - CHANGE THESE IN PRODUCTION
JWT_SECRET=your-super-secure-jwt-secret-key-min-256-bits-change-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# Data Encryption - MUST be exactly 32 characters
DATA_ENCRYPTION_KEY=your32characterencryptionkeyhere1

# ============================================================================
# CORS & NETWORKING
# ============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,https://yourdomain.com

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_TTL=60
RATE_LIMIT_REQUESTS=100

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info
LOG_FORMAT=json

# ============================================================================
# AI SERVICES
# ============================================================================
AI_DIAGNOSIS_URL=http://localhost:8000
AI_DIAGNOSIS_API_KEY=your-ai-api-key-here
AI_DIAGNOSIS_SECRET_KEY=shared-jwt-secret-key-for-ai-agent
AI_SERVICE_NAME=tenderly-backend
AI_DIAGNOSIS_TIMEOUT=30000
AI_DIAGNOSIS_TOKEN_EXPIRY=3600

# ============================================================================
# PAYMENT GATEWAY
# ============================================================================
PAYMENT_PROVIDER=mock
RAZORPAY_ENVIRONMENT=sandbox

# Razorpay Sandbox (for development/testing)
RAZORPAY_SANDBOX_KEY_ID=rzp_test_XAMSIj8UnomAdh
RAZORPAY_SANDBOX_KEY_SECRET=2NTGD3hh8qZdNiHNJBBIkdOM
RAZORPAY_SANDBOX_WEBHOOK_SECRET=whsec_sandbox_webhook_secret

# Razorpay Live (for production) - Uncomment and fill when going live
# RAZORPAY_LIVE_KEY_ID=your_live_key_id
# RAZORPAY_LIVE_KEY_SECRET=your_live_key_secret
# RAZORPAY_LIVE_WEBHOOK_SECRET=your_live_webhook_secret

# Payment Features
ENABLE_PAYMENT_WEBHOOKS=true
ENABLE_PAYMENT_REFUNDS=true
PAYMENT_MAX_RETRIES=3
PAYMENT_TIMEOUT_MS=30000

# Frontend URL for payment redirects
FRONTEND_URL=http://localhost:3000

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_AI_DIAGNOSIS=true
FEATURE_VIDEO_CONSULTATION=true
FEATURE_WHATSAPP_NOTIFICATIONS=false
FEATURE_DIGITAL_PRESCRIPTIONS=true
FEATURE_EMERGENCY_PROTOCOLS=true
FEATURE_NDHM_INTEGRATION=false
FEATURE_MFA_REQUIRED=true

# ============================================================================
# AUDIT & COMPLIANCE
# ============================================================================
AUDIT_ENABLED=true
AUDIT_AUTH_RETENTION=2555
AUDIT_DATA_ACCESS_RETENTION=3653
AUDIT_SYSTEM_RETENTION=1095

GDPR_ENABLED=true
GDPR_DPO_EMAIL=dpo@tenderly.care
DATA_RETENTION_PATIENT=3653
DATA_RETENTION_AUDIT=2555
DATA_RETENTION_BACKUP=2555

# ============================================================================
# EXTERNAL INTEGRATIONS (Optional - Configure only if needed)
# ============================================================================

# Healthcare/NDHM
# NDHM_BASE_URL=https://dev.abdm.gov.in
# NDHM_CLIENT_ID=
# NDHM_CLIENT_SECRET=
# NDHM_FACILITY_ID=
# NDHM_HIP_ID=

# WhatsApp Business
# WHATSAPP_ACCESS_TOKEN=
# WHATSAPP_PHONE_NUMBER_ID=
# WHATSAPP_VERIFY_TOKEN=
# WHATSAPP_BUSINESS_ACCOUNT_ID=

# Google Meet
# GOOGLE_MEET_CLIENT_ID=
# GOOGLE_MEET_CLIENT_SECRET=
# GOOGLE_MEET_REDIRECT_URI=

# Twilio
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_FROM_NUMBER=

# Email (SendGrid)
# SENDGRID_API_KEY=
# SENDGRID_FROM_EMAIL=noreply@tenderly.care
# SENDGRID_FROM_NAME=Tenderly Care

# AWS Services
# AWS_REGION=ap-south-1
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_S3_BUCKET=tenderly-documents
# AWS_S3_PRESCRIPTIONS_BUCKET=tenderly-prescriptions
# AWS_KMS_KEY_ID=
# AWS_KMS_ALIAS=alias/tenderly-encryption

# ============================================================================
# MONITORING (Optional)
# ============================================================================
PROMETHEUS_ENABLED=false
SENTRY_ENABLED=false
# SENTRY_DSN=

# Grafana (for monitoring stack)
GRAFANA_USER=admin
GRAFANA_PASSWORD=SecureGrafanaPassword123!

# ============================================================================
# NGINX (Production deployment)
# ============================================================================
# SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
# SSL_KEY_PATH=/etc/nginx/ssl/key.pem
# DOMAIN_NAME=api.tenderly.care
